<ui:composition template="/WEB-INF/templates/layout.xhtml"
 	  xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
>

	<ui:param name="title" value="#{messages['page.tmaestras.title']}" />
	
	<ui:define name="content">
  
  		<!-- CONTENIDO -->  	
		
  		<h2 class="title_first">#{messages['tablasmaestras.titulo']}</h2>
  		<div class="separador_rojo"></div>
  		
  			<p:panel rendered="#{tablasMaestras.error==true}" id="panelButtons">
	       		 <p:staticMessage severity="error" summary="ERROR!" detail="#{messages['tablasmaestras.init.error']}" />
	        </p:panel>
  		
	  		<h:form id="taula" rendered="#{tablasMaestras.error==false}" class="table_action">
			    <p:growl>
			        <p:autoUpdate />
			    </p:growl>
			    		    
			    
			    <h:panelGrid columns="" cellpadding="">
			 		<!-- Item 1 -->
			        <h:outputLabel for="multiple" value="#{messages['tablasmaestras.seleccionar']}" style="margin-left: 0px;"/>
			        <p:selectOneMenu id="taulesMestres" value="#{tablasMaestras.tabla}" label="tabla" panelStyle="width:250px" 
			                              valueChangeListener="#{tablasMaestras.ChangeEvent}">
			             <f:selectItem itemLabel="#{messages['tablasmaestras.seleccion']}" itemValue=" " noSelectionOption="true" />
			            <f:selectItems value="#{tablasMaestras.listaTabla}" />
			            <p:ajax process="taulesMestres" partialSubmit="true" event="valueChange" update="taula"/>
			        </p:selectOneMenu>
			        		       		       		 
			    </h:panelGrid>
				<hr/>
			
			    <!-- Tabla contenido -->
			    
			    
			
				<p:dataTable class="estilos-tabla" 
					var="taule" 
					value="#{tablasMaestras.tablaMaestra}" 
					emptyMessage="#{messages['datos.nohaydatos']}"
					rows="10" 
					paginator="true"
	                paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
	                currentPageReportTemplate="{startRecord}-{endRecord} of {totalRecords} records"  >
	                
				     <f:facet name="header">
	            		<h:outputText id="selectedItemText" value="#{tablasMaestras.tabla}"/>
	        		</f:facet>
				    <p:column class="first-column" headerText="#{messages['tablasmaestras.nombre']}" sortBy="#{taule.nom}" style="width: 100%;">
                		<h:outputText value="#{taule.nom}" />
			        </p:column>			 
				</p:dataTable>
			    <!--  	    	tablas aqui		-->
				<!-- FIN DEL CONTENIDO -->
			</h:form>					
  	</ui:define>
  	
 </ui:composition>		
  
